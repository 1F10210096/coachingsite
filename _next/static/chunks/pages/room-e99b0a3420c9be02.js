(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{35147:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return n(78186)}])},69359:function(e,t,n){"use strict";n.d(t,{v:function(){return BasicHeader}});var s=n(85893),a=n(94119),r=n(76718),c=n(41664),o=n.n(c),i=n(11163),l=n(67294),u=n(78759),d=n(82509),m=n(55293),_=n.n(m);let BasicHeader=e=>{let{user:t}=e,[n,c]=(0,l.useState)(""),[m,h]=(0,l.useState)(!0),[x,j]=(0,l.useState)(null),[B,N]=(0,l.useState)(null),[f,b]=(0,l.useState)(null),C=(0,i.useRouter)(),{value:v}=C.query,handleButtonClick=e=>{b(e)};(0,l.useEffect)(()=>{let e=(0,d.lh)(),t=(0,r.Aj)(e,async e=>{e?N(e.uid):N(null)});return()=>t()},[]);let fetchRecruit=async()=>{try{if(null!==B){let e=await u.x.fetchMyProfile.post({body:{Id:B}});console.log(e.body),j(e.body.name)}h(!1)}catch(e){h(!1)}};return((0,l.useEffect)(()=>{fetchRecruit()},[B]),m)?(0,s.jsx)("div",{className:_().loading,children:"ローディング中..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:_().container,children:[(0,s.jsxs)("div",{className:_().searchContainer,children:[(0,s.jsx)("input",{type:"text",className:_().searchInput,placeholder:"何のゲームをお探しですか？",value:n,onChange:e=>c(e.target.value)}),(0,s.jsx)("button",{className:_().searchButton,onClick:()=>{console.log("検索: ".concat(n))}})]}),(0,s.jsx)("div",{className:_().contheme2,children:null!==B?(0,s.jsxs)("div",{className:_().userSection8,children:[(0,s.jsx)(o(),{href:"/selectDm",children:(0,s.jsx)("div",{className:_().roomButton,children:(0,s.jsx)(a.Z,{style:{fontSize:"26px",color:"#000000",marginRight:"18px"}})})}),(0,s.jsx)(o(),{href:"/userProfile",children:(0,s.jsxs)("span",{className:_().userName,children:["ようこそ,",(0,s.jsx)("span",{className:_().userName2,children:x}),"さん"]})}),(0,s.jsx)(o(),{href:"/bosyuuDescription",children:(0,s.jsx)("button",{className:_().redButton,children:"募集"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{href:"/login",children:(0,s.jsx)("button",{className:_().kaninButton,children:"ログイン"})}),(0,s.jsx)(o(),{href:"/signUp",children:(0,s.jsx)("button",{className:_().loginButton,children:"会員登録"})}),(0,s.jsx)(o(),{href:"/signUp",children:(0,s.jsx)("button",{className:_().redButton,children:"コーチ登録"})})]})}),(0,s.jsxs)("div",{className:_().contheme,children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("button",{className:(null==v?void 0:v.length)===0?_().selectedButton:_().button,onClick:()=>handleButtonClick("おすすめ"),children:"おすすめ"})}),(0,s.jsx)(o(),{href:"/recruit?value=1",children:(0,s.jsx)("button",{className:"1"===v?_().selectedButton:_().button,onClick:()=>handleButtonClick("VALORANT"),children:"VALORANT"})}),(0,s.jsx)(o(),{href:"/recruit?value=2",children:(0,s.jsx)("button",{className:_().button,children:"APEX"})}),(0,s.jsx)(o(),{href:"/recruit?value=3",children:(0,s.jsx)("button",{className:_().button,children:"LOL"})}),(0,s.jsx)("button",{className:_().button,children:"CSGO"}),(0,s.jsx)("button",{className:_().button,children:"COD 2"}),(0,s.jsx)("button",{className:_().button,children:"OverWatch2"}),(0,s.jsx)(o(),{href:"/allSearch",children:(0,s.jsx)("button",{className:_().button,children:"すべて見る"})})]})]})})}},78186:function(e,t,n){"use strict";n.r(t);var s=n(85893),a=n(27596),r=n.n(a),c=n(76718),o=n(11163),i=n(67294),l=n(78759),u=n(82509),d=n(69359),m=n(48598),_=n.n(m);t.default=()=>{let[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(),[m,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=(0,u.lh)(),n=(0,c.Aj)(e,e=>{e?(console.log(e),t(e.uid)):console.log("ユーザーがログインしていません")});return()=>n()},[]);let fetchRoom=async()=>{try{let t=await l.x.fetchRooms.post({body:{userId:e}});h(t.body),console.log(t.body)}catch(e){r()(e)}};(0,i.useEffect)(()=>{fetchRoom()},[e]);let x=(0,o.useRouter)(),handleCommentClick=e=>{x.push("../dm?id=".concat(e))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.v,{user:n}),(0,s.jsxs)("div",{className:_().container,children:[(0,s.jsx)("div",{className:_().title,children:"DM一覧"}),(0,s.jsx)("div",{className:_().roomList,children:m.map(e=>e.latestComment&&(0,s.jsx)("div",{className:_().commentContainer,onClick:()=>{var t;return(null===(t=e.latestComment)||void 0===t?void 0:t.id)&&handleCommentClick(e.latestComment.roomId)},children:e.commentUser&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:e.commentUser.imageUrl||"",alt:"User",className:_().userImage}),(0,s.jsxs)("div",{className:_().userContainer,children:[(0,s.jsx)("div",{className:_().userName,children:e.commentUser.name}),(0,s.jsx)("div",{className:_().comment,children:e.latestComment.content})]})]})},e.latestComment.id))})]})]})}},55293:function(e){e.exports={container:"BasicHeader_container__ASIaK",contheme:"BasicHeader_contheme__zTdPw",button:"BasicHeader_button__R08NF",contheme2:"BasicHeader_contheme2__RIUwH",kaninButton:"BasicHeader_kaninButton__CEv_8",loginButton:"BasicHeader_loginButton__n_4uq",redButton:"BasicHeader_redButton__R57u1",searchContainer:"BasicHeader_searchContainer__5csEn",searchInput:"BasicHeader_searchInput__HA9Ps",searchButton:"BasicHeader_searchButton__1KIkK",main:"BasicHeader_main__Vqufr",userBtn:"BasicHeader_userBtn__wlK48",userIcon:"BasicHeader_userIcon__UecGa",userContainer:"BasicHeader_userContainer__waGrV",userName:"BasicHeader_userName__KiR1h",userName2:"BasicHeader_userName2__ugag8",loading:"BasicHeader_loading__jW7n8",spin:"BasicHeader_spin__Mb5Hn",selectedButton:"BasicHeader_selectedButton__T8vja",userSection8:"BasicHeader_userSection8__L5ol4",iconblack:"BasicHeader_iconblack__lr8uA",roomButton:"BasicHeader_roomButton__fV8mf"}},48598:function(e){e.exports={container:"room_container__E5hIM",title:"room_title__yQ5tQ",roomList:"room_roomList__sYlbf",commentContainer:"room_commentContainer__9LKDB",userImage:"room_userImage__bFvPx",comment:"room_comment__WSc4s",userName:"room_userName__Ch4WR",userContainer:"room_userContainer__Ms9y3"}}},function(e){e.O(0,[664,119,596,774,888,179],function(){return e(e.s=35147)}),_N_E=e.O()}]);