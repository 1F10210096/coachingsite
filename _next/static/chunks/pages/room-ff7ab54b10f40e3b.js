(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{5147:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return n(8186)}])},9359:function(e,t,n){"use strict";n.d(t,{v:function(){return BasicHeader}});var s=n(5893),a=n(6718),r=n(1664),c=n.n(r),o=n(1163),i=n(7294),l=n(8759),u=n(2509),d=n(5293),m=n.n(d);let BasicHeader=e=>{let{user:t}=e,[n,r]=(0,i.useState)(""),[d,_]=(0,i.useState)(!0),[h,x]=(0,i.useState)(null),[j,N]=(0,i.useState)(null),[B,f]=(0,i.useState)(null),b=(0,o.useRouter)(),{value:C}=b.query,handleButtonClick=e=>{f(e)};(0,i.useEffect)(()=>{let e=(0,u.lh)(),t=(0,a.Aj)(e,e=>{e?N(e.uid):N(null)});return()=>t()},[]);let fetchRecruit=async()=>{try{if(_(!0),null!==j){let e=await l.x.fetchMyProfile.post({body:{Id:j}});x(e.body.name)}_(!1)}catch(e){_(!1)}};return((0,i.useEffect)(()=>{fetchRecruit()},[j]),d)?(0,s.jsx)("div",{className:m().loading,children:"ローディング中..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:m().container,children:[(0,s.jsxs)("div",{className:m().searchContainer,children:[(0,s.jsx)("input",{type:"text",className:m().searchInput,placeholder:"何のゲームをお探しですか？",value:n,onChange:e=>r(e.target.value)}),(0,s.jsx)("button",{className:m().searchButton,onClick:()=>{console.log("検索: ".concat(n))}})]}),(0,s.jsx)("div",{className:m().contheme2,children:null!==j?(0,s.jsxs)("div",{className:m().userSection8,children:[(0,s.jsx)(c(),{href:"/room",children:"message"}),(0,s.jsx)(c(),{href:"/userProfile",children:(0,s.jsxs)("span",{className:m().userName,children:["ようこそ,",(0,s.jsx)("span",{className:m().userName2,children:h}),"さん"]})}),(0,s.jsx)(c(),{href:"/bosyuuDescription",children:(0,s.jsx)("button",{className:m().redButton,children:"募集"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{href:"/login",children:(0,s.jsx)("button",{className:m().kaninButton,children:"ログイン"})}),(0,s.jsx)(c(),{href:"/signUp",children:(0,s.jsx)("button",{className:m().loginButton,children:"会員登録"})}),(0,s.jsx)(c(),{href:"/coachSignUp",children:(0,s.jsx)("button",{className:m().redButton,children:"コーチ登録"})})]})}),(0,s.jsxs)("div",{className:m().contheme,children:[(0,s.jsx)(c(),{href:"/",children:(0,s.jsx)("button",{className:(null==C?void 0:C.length)===0?m().selectedButton:m().button,onClick:()=>handleButtonClick("おすすめ"),children:"おすすめ"})}),(0,s.jsx)(c(),{href:"/recruit?value=1",children:(0,s.jsx)("button",{className:"1"===C?m().selectedButton:m().button,onClick:()=>handleButtonClick("VALORANT"),children:"VALORANT"})}),(0,s.jsx)(c(),{href:"/recruit?value=2",children:(0,s.jsx)("button",{className:m().button,children:"APEX"})}),(0,s.jsx)(c(),{href:"/recruit?value=3",children:(0,s.jsx)("button",{className:m().button,children:"LOL"})}),(0,s.jsx)("button",{className:m().button,children:"CSGO"}),(0,s.jsx)("button",{className:m().button,children:"COD 2"}),(0,s.jsx)("button",{className:m().button,children:"OverWatch2"}),(0,s.jsx)(c(),{href:"/allSearch",children:(0,s.jsx)("button",{className:m().button,children:"すべて見る"})})]})]})})}},8186:function(e,t,n){"use strict";n.r(t);var s=n(5893),a=n(7596),r=n.n(a),c=n(6718),o=n(1163),i=n(7294),l=n(8759),u=n(2509),d=n(9359),m=n(8598),_=n.n(m);t.default=()=>{let[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(),[m,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=(0,u.lh)(),n=(0,c.Aj)(e,e=>{e?(console.log(e),t(e.uid)):console.log("ユーザーがログインしていません")});return()=>n()},[]);let fetchRoom=async()=>{try{let t=await l.x.fetchRooms.post({body:{userId:e}});h(t.body),console.log(t.body)}catch(e){r()(e)}};(0,i.useEffect)(()=>{fetchRoom()},[e]);let x=(0,o.useRouter)(),handleCommentClick=e=>{x.push("../dm?id=".concat(e))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.v,{user:n}),(0,s.jsxs)("div",{className:_().container,children:[(0,s.jsx)("div",{className:_().title,children:"DM一覧"}),(0,s.jsx)("div",{className:_().roomList,children:m.map(e=>e.latestComment&&(0,s.jsx)("div",{className:_().commentContainer,onClick:()=>{var t;return(null===(t=e.latestComment)||void 0===t?void 0:t.id)&&handleCommentClick(e.latestComment.id)},children:e.commentUser&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:e.commentUser.imageUrl||"",alt:"User",className:_().userImage}),(0,s.jsxs)("div",{className:_().userContainer,children:[(0,s.jsx)("div",{className:_().userName,children:e.commentUser.name}),(0,s.jsx)("div",{className:_().comment,children:e.latestComment.content})]})]})},e.latestComment.id))})]})]})}},5293:function(e){e.exports={container:"BasicHeader_container__ASIaK",contheme:"BasicHeader_contheme__zTdPw",button:"BasicHeader_button__R08NF",contheme2:"BasicHeader_contheme2__RIUwH",kaninButton:"BasicHeader_kaninButton__CEv_8",loginButton:"BasicHeader_loginButton__n_4uq",redButton:"BasicHeader_redButton__R57u1",searchContainer:"BasicHeader_searchContainer__5csEn",searchInput:"BasicHeader_searchInput__HA9Ps",searchButton:"BasicHeader_searchButton__1KIkK",main:"BasicHeader_main__Vqufr",userBtn:"BasicHeader_userBtn__wlK48",userIcon:"BasicHeader_userIcon__UecGa",userContainer:"BasicHeader_userContainer__waGrV",userName:"BasicHeader_userName__KiR1h",userName2:"BasicHeader_userName2__ugag8",loading:"BasicHeader_loading__jW7n8",spin:"BasicHeader_spin__Mb5Hn",selectedButton:"BasicHeader_selectedButton__T8vja",userSection8:"BasicHeader_userSection8__L5ol4"}},8598:function(e){e.exports={container:"room_container__E5hIM",title:"room_title__yQ5tQ",roomList:"room_roomList__sYlbf",commentContainer:"room_commentContainer__9LKDB",userImage:"room_userImage__bFvPx",comment:"room_comment__WSc4s",userName:"room_userName__Ch4WR",userContainer:"room_userContainer__Ms9y3"}}},function(e){e.O(0,[664,596,774,888,179],function(){return e(e.s=5147)}),_N_E=e.O()}]);