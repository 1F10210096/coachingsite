(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[491],{60386:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/selectDm",function(){return n(19105)}])},69359:function(e,t,n){"use strict";n.d(t,{v:function(){return BasicHeader}});var s=n(85893),a=n(94119),c=n(76718),r=n(41664),o=n.n(r),l=n(11163),i=n(67294),u=n(78759),d=n(82509),_=n(55293),h=n.n(_);let BasicHeader=e=>{let{user:t}=e,[n,r]=(0,i.useState)(""),[_,m]=(0,i.useState)(!0),[x,j]=(0,i.useState)(null),[b,B]=(0,i.useState)(null),[N,f]=(0,i.useState)(null),C=(0,l.useRouter)(),{value:g}=C.query,handleButtonClick=e=>{f(e)};(0,i.useEffect)(()=>{let e=(0,d.lh)(),t=(0,c.Aj)(e,async e=>{e&&e.emailVerified?(await u.x.createUser.post({body:{userId:e.uid,userName:e.displayName||"匿名ユーザー"}}),B(e.uid)):B(null)});return()=>t()},[]);let fetchRecruit=async()=>{try{if(m(!0),null!==b){let e=await u.x.fetchMyProfile.post({body:{Id:b}});console.log(e.body),j(e.body.name)}m(!1)}catch(e){m(!1)}};return((0,i.useEffect)(()=>{fetchRecruit()},[b]),_)?(0,s.jsx)("div",{className:h().loading,children:"ローディング中..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:h().container,children:[(0,s.jsxs)("div",{className:h().searchContainer,children:[(0,s.jsx)("input",{type:"text",className:h().searchInput,placeholder:"何のゲームをお探しですか？",value:n,onChange:e=>r(e.target.value)}),(0,s.jsx)("button",{className:h().searchButton,onClick:()=>{console.log("検索: ".concat(n))}})]}),(0,s.jsx)("div",{className:h().contheme2,children:null!==b?(0,s.jsxs)("div",{className:h().userSection8,children:[(0,s.jsx)(o(),{href:"/selectDm",children:(0,s.jsx)("div",{className:h().roomButton,children:(0,s.jsx)(a.Z,{style:{fontSize:"26px",color:"#000000",marginRight:"18px"}})})}),(0,s.jsx)(o(),{href:"/userProfile",children:(0,s.jsxs)("span",{className:h().userName,children:["ようこそ,",(0,s.jsx)("span",{className:h().userName2,children:x}),"さん"]})}),(0,s.jsx)(o(),{href:"/bosyuuDescription",children:(0,s.jsx)("button",{className:h().redButton,children:"募集"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{href:"/login",children:(0,s.jsx)("button",{className:h().kaninButton,children:"ログイン"})}),(0,s.jsx)(o(),{href:"/signUp",children:(0,s.jsx)("button",{className:h().loginButton,children:"会員登録"})}),(0,s.jsx)(o(),{href:"/signUp",children:(0,s.jsx)("button",{className:h().redButton,children:"コーチ登録"})})]})}),(0,s.jsxs)("div",{className:h().contheme,children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("button",{className:(null==g?void 0:g.length)===0?h().selectedButton:h().button,onClick:()=>handleButtonClick("おすすめ"),children:"おすすめ"})}),(0,s.jsx)(o(),{href:"/recruit?value=1",children:(0,s.jsx)("button",{className:"1"===g?h().selectedButton:h().button,onClick:()=>handleButtonClick("VALORANT"),children:"VALORANT"})}),(0,s.jsx)(o(),{href:"/recruit?value=2",children:(0,s.jsx)("button",{className:h().button,children:"APEX"})}),(0,s.jsx)(o(),{href:"/recruit?value=3",children:(0,s.jsx)("button",{className:h().button,children:"LOL"})}),(0,s.jsx)("button",{className:h().button,children:"CSGO"}),(0,s.jsx)("button",{className:h().button,children:"COD 2"}),(0,s.jsx)("button",{className:h().button,children:"OverWatch2"}),(0,s.jsx)(o(),{href:"/allSearch",children:(0,s.jsx)("button",{className:h().button,children:"すべて見る"})})]})]})})}},19105:function(e,t,n){"use strict";n.r(t);var s=n(85893),a=n(27596),c=n.n(a),r=n(76718),o=n(11163),l=n(67294),i=n(78759),u=n(82509),d=n(69359),_=n(25510),h=n.n(_);t.default=()=>{let[e,t]=(0,l.useState)(""),[n,a]=(0,l.useState)(),[_,m]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=(0,u.lh)(),n=(0,r.Aj)(e,e=>{e?(console.log(e),t(e.uid)):console.log("ユーザーがログインしていません")});return()=>n()},[]);let fetchRoom=async()=>{try{let t=await i.x.fetchRooms.post({body:{userId:e}});m(t.body),console.log(t.body)}catch(e){c()(e)}};(0,l.useEffect)(()=>{fetchRoom()},[e]);let x=(0,o.useRouter)(),handleCommentClick=()=>{x.push("../dmCoach")},handleCommentClick2=()=>{x.push("../dmRecieave")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.v,{user:n}),(0,s.jsxs)("div",{className:h().background,children:[(0,s.jsxs)("div",{className:h().container,children:[(0,s.jsx)("div",{className:h().title,children:"DM一覧"}),(0,s.jsxs)("div",{className:h().container1,children:[(0,s.jsx)("button",{type:"button",onClick:()=>{handleCommentClick()},className:h().bottone1,children:(0,s.jsx)("div",{className:h().font,children:"先生用メッセージ一覧"})}),(0,s.jsxs)("button",{type:"button",onClick:()=>{handleCommentClick2()},className:h().bottone2,children:[" ",(0,s.jsx)("div",{className:h().font,children:"生徒用メッセージ一覧 "})]})]})]})," "]})]})}},55293:function(e){e.exports={container:"BasicHeader_container__ASIaK",contheme:"BasicHeader_contheme__zTdPw",button:"BasicHeader_button__R08NF",contheme2:"BasicHeader_contheme2__RIUwH",kaninButton:"BasicHeader_kaninButton__CEv_8",loginButton:"BasicHeader_loginButton__n_4uq",redButton:"BasicHeader_redButton__R57u1",searchContainer:"BasicHeader_searchContainer__5csEn",searchInput:"BasicHeader_searchInput__HA9Ps",searchButton:"BasicHeader_searchButton__1KIkK",main:"BasicHeader_main__Vqufr",userBtn:"BasicHeader_userBtn__wlK48",userIcon:"BasicHeader_userIcon__UecGa",userContainer:"BasicHeader_userContainer__waGrV",userName:"BasicHeader_userName__KiR1h",userName2:"BasicHeader_userName2__ugag8",loading:"BasicHeader_loading__jW7n8",spin:"BasicHeader_spin__Mb5Hn",selectedButton:"BasicHeader_selectedButton__T8vja",userSection8:"BasicHeader_userSection8__L5ol4",iconblack:"BasicHeader_iconblack__lr8uA",roomButton:"BasicHeader_roomButton__fV8mf"}},25510:function(e){e.exports={container:"selectDm_container__wybC5",background:"selectDm_background__IvFs_",title:"selectDm_title__rp8F5",roomList:"selectDm_roomList__whx9Q",commentContainer:"selectDm_commentContainer__dvuaK",userImage:"selectDm_userImage__ZHMc8",comment:"selectDm_comment__i5TBT",userName:"selectDm_userName__qM1Za",userContainer:"selectDm_userContainer__ZWE_H",bottone1:"selectDm_bottone1__dLJ83",bottone2:"selectDm_bottone2___1gNq",container1:"selectDm_container1__wRASF",font:"selectDm_font__6ovSP"}}},function(e){e.O(0,[664,119,596,774,888,179],function(){return e(e.s=60386)}),_N_E=e.O()}]);